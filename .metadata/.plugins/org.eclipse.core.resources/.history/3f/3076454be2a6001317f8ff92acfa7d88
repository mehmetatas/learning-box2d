package com.turpgames.input;

import com.badlogic.gdx.Gdx;

public abstract class InputCommand {
	InputCommand() {

	}
	
	public abstract boolean execute(IInputListener listener);

	final static KeyCommand keyDownCommand = new KeyCommand();
	final static KeyCommand keyUpCommand = new KeyCommand();
	final static TouchCommand touchDownCommand = new TouchCommand();
	final static TouchCommand touchUpCommand = new TouchCommand();
	final static TouchCommand touchDraggedCommand = new TouchCommand();
	final static TapCommand tapCommand = new TapCommand();
	final static LongPressCommand longPressCommand = new LongPressCommand();
	
	public static float getTouchX() {
		return getTouchX(0);
	}
	
	public static float getTouchX(int pointer) {
		return Gdx.input.getX(pointer);
	}
	
	public static float getTouchY() {
		return getTouchY(0);
	}
	
	public static float getTouchY(int pointer) {
		return Gdx.input.getY(pointer);
	}
	
	public static boolean isTouched() {
		return isTouched();
	}
	
	public static boolean isTouched(int pointer) {
		return Gdx.input.isTouched(pointer);
	}

	public static KeyCommand getKeyDownCommand() {
		return getCommand(keyDownCommand);
	}

	public static KeyCommand getKeyUpCommand() {
		return getCommand(keyUpCommand);
	}

	public static TouchCommand getTouchDownCommand() {
		return getCommand(touchDownCommand);
	}

	public static TouchCommand getTouchUpCommand() {
		return getCommand(touchUpCommand);
	}

	public static TouchCommand getTouchDraggedCommand() {
		return getCommand(touchDraggedCommand);
	}

	public static TapCommand getTapCommand() {
		return getCommand(tapCommand);
	}

	public static LongPressCommand getLongPressCommand() {
		return getCommand(longPressCommand);
	}
	
	private static <T extends InputCommand> T getCommand(T cmd) {
		return cmd.isUsed ? null : cmd;
	}
}
