package com.turpgames.physics.body.builders;

import com.badlogic.gdx.physics.box2d.Body;
import com.badlogic.gdx.physics.box2d.Fixture;
import com.badlogic.gdx.physics.box2d.FixtureDef;
import com.badlogic.gdx.physics.box2d.Shape;

public class FixtureBuilder {
	private final FixtureDef fixtureDef = new FixtureDef();
	
	private final static FixtureBuilder instance = new FixtureBuilder();
	
	private FixtureBuilder() {

	}

	private void reset() {
		// com.badlogic.gdx.physics.box2d.FixtureDef defaults
		fixtureDef.shape = null;
		fixtureDef.friction = 0.2f;
		fixtureDef.restitution = 0;
		fixtureDef.density = 0;
		fixtureDef.isSensor = false;
		fixtureDef.filter.categoryBits = 0x0001;
		fixtureDef.filter.maskBits = -1;
		fixtureDef.filter.groupIndex = 0;
	}
	
	public FixtureBuilder setShape(Shape shape) {
		fixtureDef.shape = shape;
		return this;
	}
	
	public FixtureBuilder friction(float friction) {
		fixtureDef.friction = friction;
		return this;
	}
	
	public FixtureBuilder elasticity(float elasticity) {
		fixtureDef.restitution = elasticity;
		return this;
	}
	
	public FixtureBuilder density(float density) {
		fixtureDef.density = density;
		return this;
	}
	
	public FixtureBuilder sensor(boolean sensor) {
		fixtureDef.isSensor = sensor;
		return this;
	}
	
	public FixtureBuilder filterCategoryBits(short categoryBits) {
		fixtureDef.filter.categoryBits = categoryBits;
		return this;
	}
	
	public FixtureBuilder filterMaskBits(short maskBits) {
		fixtureDef.filter.maskBits = maskBits;
		return this;
	}
	
	public FixtureBuilder filterDensity(short groupIndex) {
		fixtureDef.filter.groupIndex = groupIndex;
		return this;
	}
	
	public Fixture build(Body body) {
		return body.createFixture(fixtureDef);
	}
	
	public static FixtureBuilder newFixture() {
		instance.reset();
		return instance;
	}
}
