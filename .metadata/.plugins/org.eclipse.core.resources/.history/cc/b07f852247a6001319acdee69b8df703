package com.turpgames.input;

import com.badlogic.gdx.Gdx;

public abstract class InputCommand {
	InputCommand() {

	}

	private boolean isUsed;

	public void reset() {
		isUsed = false;
	}
	
	void setAsUsed() {
		isUsed = true;
	}

	final static KeyCommand keyDownCommand = new KeyCommand();
	final static KeyCommand keyUpCommand = new KeyCommand();
	final static TouchCommand touchDownCommand = new TouchCommand();
	final static TouchCommand touchUpCommand = new TouchCommand();
	final static TouchCommand touchDraggedCommand = new TouchCommand();
	final static TapCommand tapCommand = new TapCommand();
	final static LongPressCommand longPressCommand = new LongPressCommand();

	static void resetAll() {
		keyDownCommand.reset();
		keyUpCommand.reset();
		touchDownCommand.reset();
		touchUpCommand.reset();
		touchDraggedCommand.reset();
		tapCommand.reset();
		longPressCommand.reset();
	}
	
	public static float getX() {
		return getX(0);
	}
	
	public static float getX(int pointer) {
		return Gdx.input.getX(pointer);
	}
	
	public static float getY() {
		return getY(0);
	}
	
	public static float getY(int pointer) {
		return Gdx.input.getY(pointer);
	}
	
	public static boolean isTouched() {
		return isTouched();
	}
	
	public static boolean isTouched(int pointer) {
		return Gdx.input.isTouched(pointer);
	}

	public static KeyCommand getKeyDownCommand() {
		return getCommand(keyDownCommand);
	}

	public static KeyCommand getKeyUpCommand() {
		return getCommand(keyUpCommand);
	}

	public static TouchCommand getTouchDownCommand() {
		return getCommand(touchDownCommand);
	}

	public static TouchCommand getTouchUpCommand() {
		return getCommand(touchUpCommand);
	}

	public static TouchCommand getTouchDraggedCommand() {
		return getCommand(touchDraggedCommand);
	}

	public static TapCommand getTapCommand() {
		return getCommand(tapCommand);
	}

	public static LongPressCommand getLongPressCommand() {
		return getCommand(longPressCommand);
	}
	
	private static <T extends InputCommand> T getCommand(T cmd) {
		return cmd.isUsed ? null : cmd;
	}
}
