package com.turpgames.physics;

import com.badlogic.gdx.ApplicationListener;
import com.badlogic.gdx.Gdx;
import com.badlogic.gdx.math.Vector2;
import com.badlogic.gdx.utils.GdxNativesLoader;
import com.turpgames.input.GdxInputManager;
import com.turpgames.physics.box2d.World;

public class PhysicsGame implements ApplicationListener {
	private GameWorld world;
	private World w;
	static {
		GdxNativesLoader.load();
	}

	@Override
	public void create() {
		w = new World(new Vector2(0, -10), true);
		float width = Gdx.graphics.getWidth();
		float height = Gdx.graphics.getHeight();

		world = GameWorld.newBuilder().gravity(0, -10f).viewport(GameWorld.scale * width, GameWorld.scale * height).build();
		new Person(world);

		Room.newBuilder()
				.setPosition(0, 0)
				.setSize(world.getWidth(), world.getHeight())
				.setWallThickness(0.1f)
				.build(world);

		GdxInputManager.instance.activate();
	}

	@Override
	public void render() {
		world.update();
		world.render();
	}

	@Override
	public void dispose() {
		world.dispose();
	}

	@Override
	public void resize(int width, int height) {
	}

	@Override
	public void pause() {
	}

	@Override
	public void resume() {
	}
}
